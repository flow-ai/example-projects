{"brains":[{"brain":{"brainName":"flowai","title":"Greeting brain","description":"Flow.ai","language":"en","isDefault":true,"training":{"entityHash":"8d46ee56","intentHash":"e1709414"},"pauseTimeout":15,"threshold":50,"brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a"},"flows":[{"flowId":"4102f06a-1f47-469a-aaba-24dc15492ca2","disabled":false,"title":"Bye","steps":[{"intent":{"intentId":"f170d83c-f8aa-4a08-975d-6c46d5cea51b"},"actions":[{"actionId":"83fa76f0-4837-457e-b5f6-0724d1a4279b"},{"actionId":"ed429269-aacb-4517-baf1-687cc37ce322"}],"contexts":[],"title":"intent bye","type":"INTENT","stepId":"18261929-ef75-4887-a959-c53e54fabaac"}],"group":"Default"},{"flowId":"ef617bc6-fad0-4116-a628-de516d6b6464","disabled":false,"title":"Greeting","steps":[{"intent":{"intentId":"e9718c74-c3a7-4150-be96-2497e9e13702"},"actions":[{"actionId":"437ed6c9-b45d-4449-82c9-b5ba15f628d5"},{"actionId":"b1e6cfed-8dd5-4ce0-8606-9dd554de9fdd"}],"contexts":[],"title":"intent greeting","type":"INTENT","stepId":"1c474812-0f3f-4988-aba4-928f032ae834"}],"group":"Default"}],"entities":[{"entityId":"a0e34b8a-7d40-49c2-91f1-ce38d57252da","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","title":"Part of day","entries":[{"keyword":"morning","synonyms":[""]},{"keyword":"afternoon","synonyms":[""]},{"keyword":"evening","synonyms":[""]}],"isFuzzy":false,"group":"Default"}],"intents":[{"intentId":"f170d83c-f8aa-4a08-975d-6c46d5cea51b","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","title":"intent bye","examples":[{"query":"bye","entities":[]},{"query":"good bye","entities":[]},{"query":"see you later","entities":[]},{"query":"later","entities":[]},{"query":"have a nice day","entities":[]},{"query":"ttyl","entities":[]},{"query":"talk to you later","entities":[]},{"query":"goodbye","entities":[]},{"query":"farewell","entities":[]},{"query":"take care","entities":[]},{"query":"have a good one","entities":[]},{"query":"cheers","entities":[]}],"accuracy":38.46},{"intentId":"e9718c74-c3a7-4150-be96-2497e9e13702","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","title":"intent greeting","examples":[{"query":"hi","entities":[]},{"query":"hello","entities":[]},{"query":"yo","entities":[]},{"query":"hey","entities":[]},{"query":"howdy","entities":[]},{"query":"greetings","entities":[]},{"query":"hi-ya","entities":[]},{"query":"what's up","entities":[]},{"query":"what's happening","entities":[]},{"query":"good day","entities":[]},{"query":"good morning","entities":[{"text":"morning","start":5,"end":12,"color":1,"isFuzzy":false,"label":"part_of_day","entityId":"a0e34b8a-7d40-49c2-91f1-ce38d57252da"}]},{"query":"good afternoon","entities":[{"text":"afternoon","start":5,"end":14,"color":1,"isFuzzy":false,"label":"part_of_day","entityId":"a0e34b8a-7d40-49c2-91f1-ce38d57252da"}]},{"query":"good evening","entities":[{"text":"evening","start":5,"end":12,"color":1,"isFuzzy":false,"label":"part_of_day","entityId":"a0e34b8a-7d40-49c2-91f1-ce38d57252da"}]},{"query":"howdy-do","entities":[]},{"query":"sup","entities":[]},{"query":"whats going on","entities":[]},{"query":"what is up with you","entities":[]}],"accuracy":46.15}],"actions":[{"actionId":"437ed6c9-b45d-4449-82c9-b5ba15f628d5","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","type":"ACTION","payload":{"integrationId":"1237e4c2-2773-4755-8f6e-a090747af99b","integrationName":"function","integrationTitle":"Greeting Time"}},{"actionId":"83fa76f0-4837-457e-b5f6-0724d1a4279b","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","type":"ACTION","payload":{"integrationTitle":"Bye Time Check","integrationName":"function","integrationId":"0af9d9b5-44a2-42b1-86ff-ddeeed18910e"}},{"actionId":"a92a4312-3f1e-43d7-945e-9fa6a11a9909","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","type":"TEXT","payload":{"quickReplies":[],"texts":["hello"]}},{"actionId":"b1e6cfed-8dd5-4ce0-8606-9dd554de9fdd","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","type":"RESET","payload":{"params":[],"behaviour":"RESET_ALL"}},{"actionId":"ed429269-aacb-4517-baf1-687cc37ce322","brainId":"0051728c-5aec-4ce3-b1ed-6222b4362d2a","type":"RESET","payload":{"behaviour":"RESET_ALL","params":[]}}]}],"integrations":[{"integrationId":"1237e4c2-2773-4755-8f6e-a090747af99b","integrationName":"function","actionName":"Greeting Time Check","cloudCode":"(function(payload) {\n  \n  // GET THE DATE AND TIME OF THE USER (OFFSET IN MINUTES)\n  const today = moment().utcOffset(payload.user.profile.timezone * 60)\n  console.log(today)\n  \n  \n  // GET CURRENT TIME PARAMETERS\n  const currentDay = today.day()\n  const currentHour = today.hour()\n  const currentMinute = today.minute()\n  \n  \n  // SETUP THE PART OF THE DAY\n  var partOfDay = \"\"\n\n  const isMorning = (currentHour <= 12)\n  const isAfternoon = (currentHour >= 12 && currentHour <= 18) \n  const isEvening = (currentHour >= 18 && currentHour <= 24) \n  \n  if (isMorning){partOfDay = \"morning\"}\n  if (isAfternoon){partOfDay = \"afternoon\"}\n  if (isEvening){partOfDay = \"evening\"}\n  \n  \n  // HERE WE CHECK IF IT'S WEEKEND\n  const isWeekend = (currentDay === 6 || currentDay === 7)\n\n  \n  // REPLY WITH THE PART OF THE DAY\n  // WE FIRST CHECK IF A USER SAYS MORNING, AFTERNOON OR EVENING\n  // THEN WE CHECK IF THE USER INPUT EQUALS PART OF THE DAY\n  // IF FOR EXAMPLE A USER SAYS MORNING BUT IT IS AFTERNOON WE CAN REPLY WITH A HUMOROUS MESSAGE\n  // FOR THIS WE USE AN ENTITY LIST TYPE\n  if(payload.params.part_of_day) {\n    var user_greet = payload.params.part_of_day[0].value\n    if(partOfDay != user_greet){\n      return reply(new Message(`Hmmm. I don't think it's ${user_greet}. But anyways. Good ${partOfDay}! How can I help you.`))\n    }\n  }\n  \n  reply(new Message(`Good ${partOfDay}! How can I help you.`))\n  \n})","title":"Greeting Time Check","description":"Cloud code","eventTypes":["actionEvent"]},{"integrationId":"0af9d9b5-44a2-42b1-86ff-ddeeed18910e","integrationName":"function","actionName":"Bye Time Check","cloudCode":"(function(payload) {\n  \n  // GET THE DATE AND TIME OF THE USER (OFFSET IN MINUTES)\n  const today = moment().utcOffset(payload.user.profile.timezone * 60)\n  console.log(today)\n  \n  \n  // GET CURRENT TIME PARAMETERS\n  const currentDay = today.day()\n  const currentHour = today.hour()\n  const currentMinute = today.minute()\n  \n  \n  // SETUP THE PART OF THE DAY\n  var partOfDay = \"\"\n\n  const isMorning = (currentHour <= 12)\n  const isAfternoon = (currentHour >= 12 && currentHour <= 18) \n  const isEvening = (currentHour >= 18 && currentHour <= 24) \n  \n  if (isMorning){partOfDay = \"morning\"}\n  if (isAfternoon){partOfDay = \"afternoon\"}\n  if (isEvening){partOfDay = \"evening\"}\n  \n  \n  // HERE WE CHECK IF IT'S WEEKEND\n  const isWeekend = (currentDay === 6 || currentDay === 7)\n\n  \n  // REPLY WITH THE PART OF THE DAY\n  // AND IF IT'S ALSO WEEKEND YOU CAN USE THAT IN YOUR REPLY\n  if(!isWeekend){\n    reply(new Message(`Bye! Have a great ${partOfDay}!`))\n  }\n  if(isWeekend){\n    reply(new Message(`Bye! Enjoy your ${partOfDay} and have a great weekend!`))\n  }\n  \n})","title":"Bye Time Check","description":"Cloud code","eventTypes":["actionEvent"]}]}